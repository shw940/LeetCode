
### 题目

[904. 水果成篮](https://leetcode.cn/problems/fruit-into-baskets/)


### 题解



### 代码

```cpp
class Solution {
public:
    int totalFruit(vector<int>& fruits) {
        int max_counts = 0;
        vector<int> mp(1e5 + 10);
        int kinds = 0;

        for (int l = 0, r = 0; r < fruits.size(); r++) {
            if (++mp[fruits[r]] == 1) {
                kinds++;
            }
            while (kinds == 3) {
                if (--mp[fruits[l++]] == 0) {
                    kinds--;
                }
            }

            max_counts = max(max_counts, r - l + 1);
        }
        return max_counts;
    }
};
```