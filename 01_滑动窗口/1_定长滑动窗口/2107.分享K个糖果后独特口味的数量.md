
### 题目

[2107. 分享 K 个糖果后独特口味的数量](https://leetcode.cn/problems/number-of-unique-flavors-after-sharing-k-candies/)


### 题解




### 代码

*哈希做法*

```cpp
class Solution {
public:
    int shareCandies(vector<int>& candies, int k) {
        unordered_map<int, int> mp;
        for (auto& x : candies) {
            mp[x]++;
        }

        int sum_kind = mp.size();
        int max_kind = -1;

        for (int l = 0, r = 0; r < candies.size(); r++) {
            if (--mp[candies[r]] == 0) {
                mp.erase(candies[r]);
            }
            if (r - l + 1 == k) {
                max_kind = max(max_kind, (int)mp.size());
                mp[candies[l++]]++;
            }
        }

        return max_kind == -1 ? sum_kind : max_kind;
    }
};
```


*数组做法*

```cpp
class Solution {
public:
    int shareCandies(vector<int>& candies, int k) {
        vector<int> mp(1e5 + 10);
        int now_kind = 0;

        for (auto& it : candies) {
            if (++mp[it] == 1) {
                now_kind++;
            }
        }

        int sum_kind = now_kind;
        int max_kind = -1;

        for (int l = 0, r = 0; r < candies.size(); r++) {
            if (--mp[candies[r]] == 0) {
                now_kind--;
            }
            if (r - l + 1 == k) {
                max_kind = max(max_kind, now_kind);
                if (++mp[candies[l++]] == 1) {
                    now_kind++;
                }
            }
        }

        return max_kind == -1 ? sum_kind : max_kind;
    }
};
```


